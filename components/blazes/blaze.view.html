<!--Regristrar Fogueos, listar v y modificar Fogueos en conjunto con impresión de los datos.(Pamela)-->

<section id="registerBlaze"  ng-controller="blazeController as vm">
  <!--Creación del formulario para registro  -->
  <form name="frmRegisterBlaze" ng-submit="vm.presave(vm)" novalidate autocomplete="off">
    <h1>Registro de Fogueo</h1>
    <hr>
    <!--Inicio de los inpust para el formulario  -->

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Evento:</label>
      <input list="eventsList" type="text" ng-model="vm.nameEvent" name="nameEvent" required>
      <datalist id="eventsList">
        <option value="">--Seleccione un evento</option>
        <option ng-repeat="event in vm.eventsRel" value="{{event.name}}">{{vm.name}}</option>
      </datalist>
      <div ng-messages="frmRegisterBlaze.nameEvent.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Nombre del Fogueo:</label>
      <input type="text" ng-model="vm.nameBlaze" name="nameBlaze" required>
      <div ng-messages="frmRegisterBlaze.nameBlaze.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Hora a Realizarse:</label>
      <input type="time" ng-model="vm.time" name="time" required>
      <div ng-messages="frmRegisterBlaze.time.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Lugar a realizarse:</label>
      <input type="text" list="placeList" ng-model="vm.place" name="place" required>
      <datalist id="placeList">
        <option value="">--Seleccione un lugar--</option>
        <option ng-repeat="place in vm.placeRel" value="{{place.namePlace}}">{{vm.place.namePlace}}</option>
      </datalist>
      <div ng-messages="frmRegisterBlaze.place.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <!-- Botones de Selleccione foto, Registrar y Actualizar -->
    <input type="file" ng-model="vm.photo" value="Seleccione foto" name="photo" id="photo">

    <hr>
    <button type="submit" ng-disabled="frmRegisterBlaze.$invalid">Registrar</button>
    <input type="button" value="Actualizar" ng-disabled="frmRegisterBlaze.$invalid" ng-click="vm.update(blaze)">
  </form><!--cierre del formulario para registrar -->

  <!--Crear buscar Fogueo -->
  <input type="text" name="nameFilter" ng-model="vm.nameFilter" placeholder="Buscar..."> <!-- input de buscar Fogueo -->
  <!--finalizar buscar Fogueo -->

  <!--inicio de los cards -->
  <div flex-xs flex-gt-xs="50" layout-gt-xs = "row"  >
    <md-card ng-repeat="blaze in vm.blazes
    |filter:{state:vm.stateFilter} | filter:vm.nameFilter"><!--Impresión de los datos-->
    <md-card-header>
    <md-card-header-text>
      <span class="md-title">Nombre del Evento: {{blaze.nameEvent}}</span>
      <span class="md-subhead">Nombre del Fogueo{{blaze.nameBlaze}}</span>
    </md-card-header-text>
    </md-card-header>
    <md-card-title>
      <md-card-title-text>
        <span class="md-subhead">Hora de Inicio{{blaze.time | date: "hh:mm a"}}</span>
        <span class="md-subhead">Lugar:{{blaze.place}}</span>
        <span class="md-subhead">Estado:{{blaze.state}}</span>
    </md-card-title-text>
      <md-card-title-media>
        <div class="md-media-lg card-media">
          <img img ng-src="{{blaze.photo}}" alt="Description" width="132px" height="170px" class="photoStudent">
        </div>
      </md-card-title-media>
    </md-card-title>
    <!-- Boton para cambiar el editar las fogueos -->
    <md-card-actions layout="row" layout-align="end center">
      <md-button ng-click="vm.getInfo(blaze)">Editar</md-button>
      <md-button ng-click="vm.active(blaze)">Activo</md-button>
      <md-button ng-click="vm.inactive(blaze)">Inactivo</md-button>
      <md-card-icon-actions><!-- cierre botones  -->
      </div>  <!--fin de los cards -->
</section>
