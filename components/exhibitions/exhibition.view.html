<!--Regristrar Exhibiciones, listar Exhibiciones y modificar Exhibiciones en conjunto con impresión de los datos.(Pamela) -->

<section id="registerExhibition"  ng-controller="exhibitionController as vm">
  <!--Creación del formulario para registro  -->
  <form name="frmRegisterExhibition" ng-submit="vm.presave(vm)" novalidate autocomplete="off">

    <h1>Registro de Exhibición</h1>
    <hr>
    <!--Inicio de los inpust para el formulario  -->

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Evento:</label>
      <input list="eventsList" type="text" ng-model="vm.nameEvent" name="nameEvent" required>
      <datalist id="eventsList">
        <option value="">--Seleccione un evento</option>
        <option ng-repeat="event in vm.eventsRel" value="{{event.name}}">{{vm.name}}</option>
      </datalist>
      <div ng-messages="frmRegisterExhibition.nameEvent.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container> 
    
    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Nombre de la Exhibición:</label>
      <input type="text" ng-model="vm.nameExhibition" name="nameExhibition" required>
      <div ng-messages="frmRegisterExhibition.nameExhibition.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Hora a Realizarse:</label>
      <input type="time" ng-model="vm.hourExhibition" name="hourExhibition" required>
      <div ng-messages="frmRegisterExhibition.hourExhibition.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container> 

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Lugar a Realizarse:</label>
      <input type="text" ng-model="vm.placeExhibition" name="placeExhibition" required>
      <div ng-messages="frmRegisterExhibition.placeExhibition.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Invitados  Especiales:</label>
      <input type="text" ng-model="vm.guestsExhibition" name="guestsExhibition" required>
      <div ng-messages="frmRegisterExhibition.guestsExhibition.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container> 

    <!-- Botones de Selleccione foto, Registrar y Actualizar -->
    <input type="file" ng-model="vm.photo" value="Seleccione foto" name="photo" id="photo">
    <hr>
    <button type="submit" ng-disabled="frmRegisterExhibition.$invalid">Registrar</button>
    <input type="button" value="Actualizar" ng-disabled="frmRegisterExhibition.$invalid" ng-click="vm.update(exhibition)">
  </form><!--cierre del formulario para registrar -->

  <table><!--Inicio de la Tabla para registrar los datos -->
    <thead>
      <!--Select necesario para filtrar los datos por estado (activos e inactivos únicamente)  -->
      <select ng-model="vm.stateFilter" name="stateFilter">
        <option value="">--Seleccione un estado--</option>
        <option value="Activo">Activo</option>
        <option value="Inhabilitado">Inactivo</option>
      </select> <!--cierre del filtro  -->
    </form><!--cierre del formulario para registrar -->

      <tr><!--Títulos para las tablas  -->
        <th>Evento</th>
        <th>Nombre</th>
        <th>Hora</th>
        <th>Lugar</th>
        <th>Invitados</th>
        <th>Estado</th>
        <th>Foto</th>
      </tr><!-- cierre de títulos -->
    </thead>
    <tbody>
      <tr ng-repeat="exhibition in vm.exhibitions
      |filter:{state:vm.stateFilter}"><!--Impresión de los datos-->
        <td>{{exhibition.nameEvent}}</td>
        <td>{{exhibition.nameExhibition}}</td>
        <td>{{exhibition.hourExhibition | date:'hh:mm a'}}</td>
        <td>{{exhibition.placeExhibition}}</td>
        <td>{{exhibition.guestsExhibition}}</td>
        <td>{{exhibition.state}}</td>
        <td><img ng-src="{{exhibition.photo}}" alt="Description" width="132px" height="170px"/></td>
        <!-- Boton para cambiar el editar las exhiciones -->
        <td><input type="button" value="Editar" ng-click="vm.getInfo(exhibition)"></td>
        <td><input type="submit" value="Activo" ng-click="vm.active(exhibition)"></td>
        <td><input type="submit" value="Inactivo" ng-click="vm.inactive(exhibition)"></td>
          <!-- cierre botones  -->
      </tr><!--Fin de la impresión de datos  -->
    </tbody>
  </table><!--Fin de la tabla para impresión de datos.(Pamela)-->
</section>
