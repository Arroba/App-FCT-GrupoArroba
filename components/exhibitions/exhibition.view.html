<!--Regristrar Exhibiciones, listar Exhibiciones y modificar Exhibiciones en conjunto con impresión de los datos.(Pamela) -->

<section id="registerExhibition"  ng-controller="exhibitionController as vm">
  <!--Creación del formulario para registro  -->
  <form name="frmRegisterExhibition" ng-submit="vm.presave(vm)" novalidate autocomplete="off">

    <h1>Registro de Exhibición</h1>
    <hr>
    <!--Inicio de los inpust para el formulario  -->

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Evento:</label>
      <input list="eventsList" type="text" ng-model="vm.nameEvent" name="nameEvent" required>
      <datalist id="eventsList">
        <option value="">--Seleccione un evento</option>
        <option ng-repeat="event in vm.eventsRel" value="{{event.name}}">{{vm.name}}</option>
      </datalist>
      <div ng-messages="frmRegisterExhibition.nameEvent.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Nombre de la Exhibición:</label>
      <input type="text" ng-model="vm.nameExhibition" name="nameExhibition" required>
      <div ng-messages="frmRegisterExhibition.nameExhibition.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Hora a Realizarse:</label>
      <input type="time" ng-model="vm.time" name="time" required>
      <div ng-messages="frmRegisterExhibition.time.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Lugar a realizarse:</label>
      <input type="text" list="placeList" ng-model="vm.place" name="place" required>
      <datalist id="placeList">
        <option value="">--Seleccione un lugar--</option>
        <option ng-repeat="place in vm.placeRel" value="{{place.namePlace}}">{{vm.place.namePlace}}</option>
      </datalist>
      <div ng-messages="frmRegisterBlaze.place.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Invitados  Especiales:</label>
      <input type="text" ng-model="vm.guestsExhibition" name="guestsExhibition" >
      <div ng-messages="frmRegisterExhibition.guestsExhibition.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <!-- Botones de Selleccione foto, Registrar y Actualizar -->
    <input type="file" ng-model="vm.photo" value="Seleccione foto" name="photo" id="photo">
    <hr>
    <button type="submit" ng-disabled="frmRegisterExhibition.$invalid">Registrar</button>
    <input type="button" value="Actualizar" ng-disabled="frmRegisterExhibition.$invalid" ng-click="vm.update(exhibition)">
  </form><!--cierre del formulario para registrar -->

  <!--Crear buscar exhibiciones -->
  <input type="text" name="nameFilter" ng-model="vm.nameFilter" placeholder="Buscar..."> <!-- input de buscar exhibiciones -->
  <!--finalizar buscar exhibiciones -->


  <!--inicio de los cards -->
  <div flex-xs flex-gt-xs="50" layout-gt-xs = "row" >
    <md-card ng-repeat="exhibition in vm.exhibitions
    |filter:{state:vm.stateFilter} | filter:vm.nameFilter"><!--Impresión de los datos-->
    <md-card-header>
      <md-card-header-text>
        <span class="md-title">Nombre Evento:{{exhibition.nameEvent}}</span>
        <span class="md-subhead">Nombre Exhibición:{{exhibition.nameExhibition}}</span>
      </md-card-header-text>
    </md-card-header>
    <md-card-title>
      <md-card-title-text>
        <span class="md-subhead">Hora:{{exhibition.time | date: "hh:mm a"}}</span>
        <span class="md-subhead">Lugar a Realizarse {{exhibition.place}}</span>
        <span class="md-subhead">Invitados Invitados:{{exhibition.guestsExhibition}}</span>
        <span class="md-subhead">Estado:{{exhibition.state}}</span>
      </md-card-title-text>
      <md-card-title-media>
        <div class="md-media-lg card-media">
          <img img ng-src="{{exhibition.photo}}" alt="Description" width="132px" height="170px"  class="photoStudent">
        </div>
      </md-card-title-media>
    </md-card-title>
    <!-- Boton para cambiar el editar las exhibiciones -->
    <md-card-actions layout="row" layout-align="end center">
      <md-button ng-click="vm.getInfo(exhibition)">Editar</md-button>
      <md-button ng-click="vm.active(exhibition)">Activo</md-button>
      <md-button ng-click="vm.vm.inactive(exhibition)">Inactivo</md-button>
      <md-card-icon-actions><!-- cierre botones  -->
  </div>
    <!--fin de los cards -->
</section>
