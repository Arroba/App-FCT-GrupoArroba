<!-- Inicio de la sección registerCompetition, que contiene el formulario del competición, registrar, modificar y listar, Hecho por Fabián Quirós-->
<!-- Ingreso de cards y ajustes Pili-->
<section id="registerCompetition">

  <!-- Inicio del formulario  Competición: -->
  <form name="frmRegisterCompetition" novalidate autocomplete="off">

    <h1>Registro de Competición</h1>
    <hr>

    <!--Inicio de los inpust para el formulario  -->
    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Nombre de competidor</label>
      <input list="studentsList" type="text" ng-model="vm.name" name="name" required>
      <datalist id="studentsList">
        <option value="">--Seleccione un competidor--</option>
        <option ng-repeat="students in vm.studentRel" value="{{students.firstName}}">{{vm.students.firstName}}</option>
      </datalist>
      <div ng-messages="frmRegisterCompetition.name.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Hora a realizarse:</label>
      <input type="time" ng-model="vm.time" name="time" required>
      <div ng-messages="frmRegisterCompetition.time.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Lugar a realizarse:</label>
      <input type="text" list="placeList" ng-model="vm.place" name="place" required>
      <datalist id="placeList">
        <option value="">--Seleccione un lugar--</option>
        <option ng-repeat="place in vm.placeRel" value="{{place.namePlace}}">{{vm.place.namePlace}}</option>
      </datalist>
      <div ng-messages="frmRegisterCompetition.place.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex-gt-sm flex="100">
      <label for="">Categoría por edad:</label>
      <md-select ng-model="vm.ageCategory" name="ageCategory" required>
        <md-option value="">--Seleccione una opción--</md-option>
        <md-option value="Infantil">Infantil (4-11 años)</md-option>
        <md-option value="Cadete">Cadete (12-16 años)</md-option>
        <md-option value="Elite">Élite (17-23 años)</md-option>
        <md-option value="Simio">Sénior (Mayor de 23 años)</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.ageCategory.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Categoría por Peso:</label>
      <md-select ng-model="vm.weightCategory" name="weightCategory" required>
        <md-option value="">--Seleccione una opción</md-option>
        <md-option value="il-Yang (Pluma)">Pluma(Menos de 51kg)</md-option>
        <md-option value="i-Yang (Gallo) ">Gallo(52kg a 59kg) </md-option>
        <md-option value="o-Yang (Supergallo)">Supergallo(60kg a 65kg)</md-option>
        <md-option value="Sam-Yang (Wélter)">Wélter(66kg a 74kg)</md-option>
        <md-option value="Siu-Yang (Pesado)">Pesado(Mayor a 75kg)</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.weightCategory.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Grado:</label>
      <md-select ng-model="vm.grade" name="grade" required>
        <md-option value="">--Seleccione una opción</md-option>
        <md-option value="Blanco">Blanco</md-option>
        <md-option value="Amarillo">Amarillo</md-option>
        <md-option value="Verde">Verde</md-option>
        <md-option value="Azul">Azul</md-option>
        <md-option value="Rojo">Rojo</md-option>
        <md-option value="Negro">Negro</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.grade.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Género:</label>
      <md-select ng-model="vm.gender" name="gender" required>
        <md-option value="">--Seleccione una opción</md-option>
        <md-option value="Masculino">Masculino</md-option>
        <md-option value="Femenino">Femenino</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.gender.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Edad:</label>
      <input type="number" ng-model="vm.age" min="1" name="age" required>
      <div ng-messages="frmRegisterCompetition.age.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Peso:</label>
      <input type="number" name="weight" placeholder="Kg" ng-model="vm.weight" min="1" name="weight" required>
      <div ng-messages="frmRegisterCompetition.weight.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Costo de inscripción:</label>
      <input type="number" name="cost" placeholder="₡" ng-model="vm.cost" min="1" name="cost" required>
      <div ng-messages="frmRegisterCompetition.cost.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <!-- Botones de Selleccione Registrar y Actualizar -->
    <button type="submit" ng-disabled="frmRegisterCompetition.$invalid" ng-click="vm.save(competition)">Registrar</button>
    <input type="button" value="Actualizar" ng-disabled="frmRegisterCompetition.$invalid" ng-click="vm.update(competition)">

  </form> <!-- Cierre del formulario Competición  -->

<input type="text" name="nameFilter" ng-model="vm.nameFilter" placeholder="Buscar..."> <!-- input de buscar competición -->

<div flex-xs flex-gt-xs="50" layout-gt-xs = "row">
   <md-card ng-repeat="competition in vm.competition | filter:vm.nameFilter">
   <md-card-header>
     <md-card-header-text>
       <span class="md-title">{{competition.name}}</span>
       <span class="md-title">{{competition.place}}</span>
     </md-card-header-text>
   </md-card-header>
   <md-card-title>
     <md-card-title-text>
       <span class="md-subhead">Hora{{competition.time | date:'shortTime'}}</span>
       <span class="md-subhead">Categoría edad: {{competition.ageCategory}}</span>
       <span class="md-subhead">Categoría peso:{{competition.weightCategory}}</span>
       <span class="md-subhead">Grado:{{competition.grade}}</span>
       <span class="md-subhead">Género:{{competition.gender}}</span>
       <span class="md-subhead">Edad:{{competition.age}}</span>
       <span class="md-subhead">Peso:{{competition.weight}} Kg</span>
       <span class="md-subhead">Costo: ₡ {{competition.cost}} </span>
       <span class="md-subhead">Estado:{{competition.status}}</span>
     </md-card-title-text>
   </md-card-title>
<!--Select necesario para filtrar los datos por estado (activos e inactivos únicamente)  -->
   <md-card-actions layout="row" layout-align="end center">
     <md-button ng-click="vm.getInfo(competition)">Editar</md-button>
     <md-button ng-click="vm.active(competition)">Activo</md-button>
     <md-button ng-click="vm.inactive(competition)">Inactivo</md-button>
     <md-button ng-click="vm.Disqualify(competition)">Descalificado</md-button>
   <md-card-icon-actions>

 </div> <!-- Cierre de la card -->

</section> <!-- Cierre de la sección registerTeacher -->
