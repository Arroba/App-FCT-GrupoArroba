<!-- Inicio de la sección registerCompetition, que contiene el formulario del competición, registrar, modificar y listar, Hecho por Fabián Quirós-->
<section id="registerCompetition">

  <!-- Inicio del formulario  Competición: -->
  <form name="frmRegisterCompetition" novalidate autocomplete="off">

    <h1>Registro de Competición</h1>
    <hr>

    <!--Inicio de los inpust para el formulario  -->
    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Nombre de competidor</label>
      <input list="studentsList" type="text" ng-model="vm.name" name="name" required>
      <datalist id="studentsList">
        <option value="">--Seleccione un competidor--</option>
        <option ng-repeat="students in vm.studentRel" value="{{students.firstName}}">{{vm.students.firstName}}</option>
      </datalist>
      <div ng-messages="frmRegisterCompetition.name.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Hora a realizarse:</label>
      <input type="time" ng-model="vm.time" name="time" required>
      <div ng-messages="frmRegisterCompetition.time.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Lugar a realizarse:</label>
      <input type="text" list="placeList" ng-model="vm.place" name="place" required>
      <datalist id="placeList">
        <option value="">--Seleccione un lugar--</option>
        <option ng-repeat="place in vm.placeRel" value="{{place.namePlace}}">{{vm.place.namePlace}}</option>
      </datalist>
      <div ng-messages="frmRegisterCompetition.place.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex-gt-sm flex="100">
      <label for="">Categoría por edad:</label>
      <md-select ng-model="vm.ageCategory" name="ageCategory" required>
        <md-option value="">--Seleccione una opción--</md-option>
        <md-option value="Infantil">Infantil (4-11 años)</md-option>
        <md-option value="Cadete">Cadete (12-16 años)</md-option>
        <md-option value="Elite">Elite (17-23 años)</md-option>
        <md-option value="Simio">Sénior (Mayor de 23 años)</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.ageCategory.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Categoría por Peso:</label>
      <md-select ng-model="vm.weightCategory" name="weightCategory" required>
        <md-option value="">--Seleccione una opción</md-option>
        <md-option value="il-Yang (Pluma)">Pluma(Menos de 51kg)</md-option>
        <md-option value="i-Yang (Gallo) ">Gallo(52kg a 59kg) </md-option>
        <md-option value="o-Yang (Supergallo)">Supergallo(60kg a 65kg)</md-option>
        <md-option value="Sam-Yang (Wélter)">Wélter(66kg a 74kg)</md-option>
        <md-option value="Siu-Yang (Pesado)">Pesado(Mayor a 75kg)</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.weightCategory.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div><!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Grado:</label>
      <md-select ng-model="vm.grade" name="grade" required>
        <md-option value="">--Seleccione una opción</md-option>
        <md-option value="Blanco">Blanco</md-option>
        <md-option value="Amarillo">Amarillo</md-option>
        <md-option value="Verde">Verde</md-option>
        <md-option value="Azul">Azul</md-option>
        <md-option value="Rojo">Rojo</md-option>
        <md-option value="Negro">Negro</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.grade.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Género:</label>
      <md-select ng-model="vm.gender" name="gender" required>
        <md-option value="">--Seleccione una opción</md-option>
        <md-option value="Masculino">Masculino</md-option>
        <md-option value="Femenino">Femenino</md-option>
      </md-select>
      <div ng-messages="frmRegisterCompetition.gender.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Edad:</label>
      <input type="number" ng-model="vm.age" min="1" name="age" required>
      <div ng-messages="frmRegisterCompetition.age.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Peso:</label>
      <input type="number" name="weight" ng-model="vm.weight" min="1" name="weight" required>
      <div ng-messages="frmRegisterCompetition.weight.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <md-input-container layout="column" flex="100" flex-gt-sm>
      <label for="">Costo de inscripción:</label>
      <input type="number" name="cost" ng-model="vm.cost" min="1" name="cost" required>
      <div ng-messages="frmRegisterCompetition.cost.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div> <!--cierre del ng-messages -->
    </md-input-container>

    <!-- Botones de Selleccione Registrar y Actualizar -->
    <button type="submit" ng-disabled="frmRegisterCompetition.$invalid" ng-click="vm.save(competition)">Registrar</button>
    <input type="button" value="Actualizar" ng-disabled="frmRegisterCompetition.$invalid" ng-click="vm.update(competition)">

  </form> <!-- Cierre del formulario Competición  -->

<input type="text" name="nameFilter" ng-model="vm.nameFilter" placeholder="Buscar..."> <!-- input de buscar competición -->
  <table> <!-- Inicio de la tabla -->
    <thead> <!-- Inicio del thead -->
      <!--Select necesario para filtrar los datos por estado (activos e inactivos únicamente)  -->
        <select ng-model="vm.statusFilter" name="statusFilter">
          <option value="">--Seleccione un estado--</option>
          <option value="Activo">Activo</option>
          <option value="Inhabilitado">Inactivo</option>
          <option value="Descalificado">Descalificado</option>
        </select> <!--cierre del filtro  -->
      <tr> <!--Títulos para las tablas  -->
        <th>Nombre</th>
        <th>Hora</th>
        <th>Lugar</th>
        <th>Categoría por Edad</th>
        <th>Categoría por Peso</th>
        <th>Grado</th>
        <th>Genero</th>
        <th>Edad</th>
        <th>Peso</th>
        <th>Costo</th>
        <th>Estado</th>
      </tr> <!-- cierre de títulos -->
    </thead> <!-- Cierre de la thead -->
    <tbody> <!-- Incio del tbody -->
      <tr ng-repeat="competition in vm.competition | filter:{status:vm.statusFilter} | filter:vm.nameFilter"> <!--Impresión de los datos-->
        <td>{{competition.name}}</td>
        <td>{{competition.time | date:'shortTime'}}</td>
        <td>{{competition.place}}</td>
        <td>{{competition.ageCategory}}</td>
        <td>{{competition.weightCategory}}</td>
        <td>{{competition.grade}}</td>
        <td>{{competition.gender}}</td>
        <td>{{competition.age}}</td>
        <td>{{competition.weight}}</td>
        <td>{{competition.cost}}</td>
        <td>{{competition.status}}</td>
        <!-- Botones para cambiar el estado de las academias y editar-->
        <td><input type="button" value="Editar" ng-click="vm.getInfo(competition)"></td>
        <td><input type="submit" value="Activo" ng-click="vm.active(competition)"></td>
        <td><input type="submit" value="Inactivo" ng-click="vm.inactive(competition)"></td>
        <td><input type="button" value="Descalificar" ng-click="vm.Disqualify(competition)"></td>
        <!-- cierre botones  -->
      </tr> <!--Fin de la impresión de datos  -->
    </tbody> <!-- Cierre de la tbody -->
  </table> <!-- Cierre de la tabla -->

</section> <!-- Cierre de la sección registerTeacher -->
